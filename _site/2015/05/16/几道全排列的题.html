<!DOCTYPE html>
<html>

<a name="top" id="top"></a>  
  
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>几道全排列的题#22#31#46#47#60</title>
  <meta name="description" content="LeetCode #22 Generate Parentheses">

  <link rel="stylesheet" href="/css/main.css"> 
  <link rel="canonical" href="http://thuzhongyi.github.io/2015/05/16/%E5%87%A0%E9%81%93%E5%85%A8%E6%8E%92%E5%88%97%E7%9A%84%E9%A2%98.html">
  <link rel="alternate" type="application/rss+xml" title="Last to triumph" href="http://thuzhongyi.github.io/feed.xml" />
  
  <style>
body {
  background-color: #E1E1E1;
}
header.site-header {
  min-height: 56px;
  font-family: Arial, Helvetica, sans-serif;
  background-color: steelblue;
  width:100%;
  height: 6%;
  border-style: none;
  position: fixed;
  top: 0;
  -moz-box-shadow: 0 3px 3px #888888; /* 老的 Firefox */
  box-shadow: 0 3px 3px #888888;
}
footer.site-footer {
  padding: 0;
  width: 100%;
  height: 15px;
  background-color: steelblue;
  border-style: none;
  -moz-box-shadow: 0 -3px 3px #888888; /* 老的 Firefox */
  box-shadow: 0 -3px 3px #888888;
  position: fixed;
  bottom: 0;
}
div.acknowledgement {
  border-style: none;
  width: 50%;
  float: left;
  height: 15px;
}
p.ack {
  display: block;

  font-weight: bold;
  font-size: 11px;
  font-family: Arial, Helvetica, sans-serif;

  color:#E1E1E1;
}
p.ack.ack1 {
  text-align: left;
  margin-left: 5%;  
}
p.ack.ack2 {
  text-align: right; 
  margin-right: 5%;
}
div#box {
  margin: 4% 12% 0 12%;
}
div.float-box {
  border-radius:0 8px 8px 0;
  -moz-border-radius:0 8px 8px 0; /* Old Firefox */
  float: left;
  width: 2%;
  height: 10%;
  background-color: steelblue;
  position:fixed;
  transition: width 1s, background-color 2s, box-shadow 2s;
  -moz-transition: width 1s, background-color 2s, box-shadow 2s;	/* Firefox 4 */
  -webkit-transition: width 1s, background-color 2s, box-shadow 2s;	/* Safari 和 Chrome */
  -o-transition: width 1s, background-color 2s, box-shadow 2s;	/* Opera */  
}
.fb1 {top:15%;}
.fb2 {top:26%;}
.fb3 {top:37%;}
.fb4 {top:48%;}
div.big-float-box {
  width: 15%;
  height: 5%;
  background-color: steelblue;
  position:fixed;
  top: 15%;
  right: 3%;
  border-radius:8px;
  -moz-border-radius:8px; /* Old Firefox */
  transition: height 1s, background-color 2s, box-shadow 2s;
  -moz-transition: height 1s, background-color 2s, box-shadow 2s;	/* Firefox 4 */
  -webkit-transition: height 1s, background-color 2s, box-shadow 2s;	/* Safari 和 Chrome */
  -o-transition: height 1s, background-color 2s, box-shadow 2s;	/* Opera */  
}
div.float-box:hover, div.big-float-box:hover {
  border-radius:8px;
  -moz-border-radius:8px; /* Old Firefox */
  width:15%;
  background-color: gold;
  -moz-box-shadow: 10px 10px 5px #888888; /* 老的 Firefox */
  box-shadow: 10px 10px 5px #888888;
}
div.big-float-box:hover {
  height: 43%;
  background-color: gold;
  -moz-box-shadow: 10px 10px 5px #888888; /* 老的 Firefox */
  box-shadow: 10px 10px 5px #888888;
}
.quick-link {
  display: block;
  color:black;
  margin: 0;
  font-weight: bold;
  text-align: center;
  font-family: Arial, Helvetica, sans-serif;
}
div.qls {
  display: none;
  height: 84%;
  width: 100%;
  background-color: steelblue;
  transition: height 2s, width 2s, display 2s, background-color 2s;
  -moz-transition: height 2s, width 2s, display 2s, background-color 2s;	/* Firefox 4 */
  -webkit-transition: height 2s, width 2s, display 2s, background-color 2s;	/* Safari 和 Chrome */
  -o-transition: height 2s, width 2s, display 2s, background-color 2s;	/* Opera */  
}
div.big-float-box:hover div.qls {
  display: block; 
  padding: 0;
  height: 84%;
  width: 100%;
  background-color: gold;
}
ul.qls, ul.qls a {
  font-family: Arial, Helvetica, sans-serif;
  list-style-type: none;
  text-decoration: none;
  display: none;
}
div.big-float-box:hover ul.qls a, div.big-float-box:hover ul.qls {
  display: block;
}
div#content {
  width: 100%;
  float: left;
}
img.site-title {
  margin-top: 3px;
  margin-left: 10%;
  text-align: center;
  width: 45px;
  height: 45px;
  transition: transform 1s;
  -moz-transition: -moz-transform 1s;
  -webkit-transition: -webkit-transform 1s;
  -o-transition: -o-transform 1s;
}
img.site-title:hover {
  transform: rotate(720deg);
  -webkit-transform: rotate(720deg);
  -o-transform: rotate(720deg);
  -moz-transform: rotate(720deg);
}
a.page-link:link, a.page-link:visited {
  text-decoration: none;
  font-weight:bold;
  color: gold;
  font-size: auto;
  font-family: Arial, Helvetica, sans-serif;
  transition: font-size 0.5s;
  -moz-transition: font-size 0.5s;	/* Firefox 4 */
  -webkit-transition: font-size 0.5s;	/* Safari 和 Chrome */
  -o-transition: font-size 0.5s;	/* Opera */
}
a.page-link:hover, a.page-link:active {
  font-size: 200%;
}
a.post-link:link, a.post-link:visited {
  font-family: Arial, Helvetica, sans-serif;
  text-decoration: none;
  font-size: auto;
  color:black;
  transition: color 0.5s;
  -moz-transition: color 0.5s;	/* Firefox 4 */
  -webkit-transition: color 0.5s;	/* Safari 和 Chrome */
  -o-transition: color 0.5s;	/* Opera */
}
a.post-link:hover, a.post-link:active {
  color :gold;
}
ul.post-list > li {
  display: block;
  padding: 1% 5% 0 5%;
  transition: background-color 1s, box-shadow 2s;
  -moz-transition: background-color 1s, box-shadow 2s;	/* Firefox 4 */
  -webkit-transition: background-color 1s, box-shadow 2s;	/* Safari 和 Chrome */
  -o-transition: background-color 1s, box-shadow 2s;	/* Opera */
}
ul.post-list > li:hover {
  background-color: lightsteelblue;
  -moz-box-shadow: 10px 10px 5px #888888; /* 老的 Firefox */
  box-shadow: 10px 10px 5px #888888;
}
div.by-tag {
  padding: 1% 5% 0 5%;
  transition: background-color 1s, box-shadow 2s;
  -moz-transition: background-color 1s, box-shadow 2s;	/* Firefox 4 */
  -webkit-transition: background-color 1s, box-shadow 2s;	/* Safari 和 Chrome */
  -o-transition: background-color 1s, box-shadow 2s;	/* Opera */  
}
div.by-tag:hover {
  background-color: lightsteelblue;
  -moz-box-shadow: 10px 10px 5px #888888; /* 老的 Firefox */
  box-shadow: 10px 10px 5px #888888;
}
#back-to-top:link, #back-to-top:visited {
  display: block;
  text-decoration: none;
  color:steelblue;
  border:2px solid;
  border-radius:25px;
  -moz-border-radius:25px; /* Old Firefox */
  width: 120px;
  border-color: steelblue;
  margin-left:auto;
  margin-right:auto;
  margin-bottom: 3%;
}
#back-to-top:hover {
  background-color:steelblue;
  border:2px solid steelblue;
  text-decoration: none;
  border-radius:25px;
  color:white;
  -moz-border-radius:25px; /* Old Firefox */
  width: 120px;
}
.clear {
  clear:both;
}
</style>
  
</head>
  

<body>
  
    <header class="site-header">

  <div class="wrapper">

    <a href="/">
      <div class="profile">
        
      </div>
      <img src="http://ww4.sinaimg.cn/large/be5b4606gw1eu939s5l3pj20c80c8t9x.jpg" alt=Last to triumph  class="site-title" /img>
    </a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/">Home</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/tags/">Tags</a>
          
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/projects/">Projects</a>
          
        
          
        
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      </div>
    </nav>

  </div>

</header>

    
<div class="float-box fb1"></div>

<div class="float-box fb2"></div>

<div class="float-box fb3"></div>

<div class="float-box fb4"></div>

<div class="big-float-box">
  <p class="quick-link">QUICK LINKS</p>
  <div class="qls">
    <ul class="qls">
      <br>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>   
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>
      <li><a  class="qls" href="http://www.baidu.com">Baidu</a></li>   
    </ul>
  </div>
</div>
    
<div id="box">
    <div class="page-content" id="content">
      <div class="wrapper">
        <style>
div#post {
    background-color: white;
    padding: 5%;
    -moz-box-shadow: 10px 0 5px #888888; /* 老的 Firefox */
    box-shadow: 10px 0 5px #888888;
}
</style>



    
    
        
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
        
            
            
        
    


<div class="post" id="post">

    <h1 class="post-title">几道全排列的题#22#31#46#47#60</h1>
    <p class="post-meta">May 16, 2015</p>
    
    <p id="post-meta">tag<i class="fa fa-tag"></i>: <a href="/blog/tag/leetcode/">LeetCode</a></p>
    <article class="post-content">
    <h3>LeetCode #22 Generate Parentheses</h3>

<blockquote>
  <p>Given n pairs of parentheses, write a function to generate all combinations of well-formed parentheses.
For example, given n = 3, a solution set is:
“((()))”, “(()())”, “(())()”, “()(())”, “()()()” </p>
</blockquote>

<p>其实就是给了一个整数n,要求出n对括号的所有有效排列。
注意到第一个字符一定是左括号，而且对于任何一个给定的排列，对应于这个左括号的右括号的位置也是唯一确定的。
换句话讲，虽然给定一个这个右括号的位置，可能会有很多种排列，但是只要这个右括号的位置不同，排列一定是不同的。</p>

<p>所以采用分治法，让第一个左括号和它的右括号之间所夹的括号对数自增。然后对于内部的排列，再用递归处理。</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">generateParenthesis</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    	<span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">,</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">;</span><span class="n">string</span> <span class="n">s</span><span class="p">;</span>
    	<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span><span class="k">return</span> <span class="n">v</span><span class="p">;}</span>
    	<span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="s">&quot;()&quot;</span><span class="p">);</span><span class="k">return</span> <span class="n">v</span><span class="p">;}</span>
    	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    		<span class="n">v1</span><span class="o">=</span><span class="n">generateParenthesis</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    		<span class="n">v2</span><span class="o">=</span><span class="n">generateParenthesis</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">i</span><span class="p">);</span>
    		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">p</span><span class="o">&lt;</span><span class="n">v1</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">p</span><span class="o">++</span><span class="p">){</span>
    			<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">q</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">q</span><span class="o">&lt;</span><span class="n">v2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">q</span><span class="o">++</span><span class="p">){</span>
    				<span class="n">s</span><span class="o">=</span><span class="sc">&#39;(&#39;</span><span class="o">+</span><span class="n">v1</span><span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="o">+</span><span class="sc">&#39;)&#39;</span><span class="o">+</span><span class="n">v2</span><span class="p">[</span><span class="n">q</span><span class="p">];</span>
    				<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    			<span class="p">}</span>
    		<span class="p">}</span>
    		<span class="n">v1</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="n">v2</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
    	<span class="p">}</span>
    	<span class="k">return</span> <span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<h3>LeetCode #31 Next Permutation</h3>

<blockquote>
  <p>Implement next permutation, which rearranges numbers into the lexicographically next greater permutation of numbers.
If such arrangement is not possible, it must rearrange it as the lowest possible order (ie, sorted in ascending order).
The replacement must be in-place, do not allocate extra memory.
Here are some examples. Inputs are in the left-hand column and its corresponding outputs are in the right-hand column.</p>
</blockquote>

<blockquote>
  <p>1,2,3 → 1,3,2<br />
3,2,1 → 1,2,3<br />
1,1,5 → 1,5,1</p>
</blockquote>

<p>这个题需要想很久想清楚前后两个排列之间的内在联系。
从后往前遍历，找到第一个跳出逆序的数字，序号为i-1；然后再就地反向遍历，找到i的这个元素应该插入的位置j-1，使得j-1的元素恰好比i-1的元素稍大。交换它们；最后把j及以后的元素全部翻转啦，因为之前是逆序的，现在要变成顺序的，成为局部新排列的第一个。</p>

<p>关于重复元素，一开始考虑到这种情况的存在，但是第一次设计的没有特别处理，碰巧也过了。所以上面的算法应该也是可以的。</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="kt">void</span> <span class="n">nextPermutation</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
    	<span class="kt">int</span> <span class="n">tmp</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
    	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="n">i</span><span class="o">--</span><span class="p">);</span>
    	<span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="p">){</span>
    		<span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">&gt;</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="n">j</span><span class="o">++</span><span class="p">);</span>
    		<span class="n">tmp</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
    		<span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">tmp</span><span class="p">;</span>
    	<span class="p">}</span>
    	<span class="n">j</span><span class="o">=</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    	<span class="k">while</span><span class="p">(</span><span class="n">j</span><span class="o">&gt;=</span><span class="n">ceil</span><span class="p">((</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)){</span>
    		<span class="n">tmp</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">+</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
			<span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">+</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
			<span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">tmp</span><span class="p">;</span>
    		<span class="n">j</span><span class="o">--</span><span class="p">;</span>
    	<span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<h3>LeetCode #46 Permutations</h3>

<blockquote>
  <p>Given a collection of numbers, return all possible permutations.
For example,[1,2,3] have the following permutations:</p>
</blockquote>

<blockquote>
  <p>[1,2,3], [1,3,2], [2,1,3], [2,3,1], [3,1,2], and [3,2,1]. </p>
</blockquote>

<p>很直白求一堆数的全排列而已，这道题假定的是不存在重复的输入数字，下一道题会考虑重复的情况。</p>

<p>按顺序去除某个元素，把剩下的元素用递归得到全部排列。用一个大容器容纳这些排列。</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">permute</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
    	<span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">v</span><span class="p">,</span><span class="n">temp</span><span class="p">;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">tmp</span><span class="p">,</span><span class="n">nnums</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span><span class="k">return</span> <span class="n">v</span><span class="p">;}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        	<span class="n">nnums</span><span class="o">=</span><span class="n">nums</span><span class="p">;</span>
        	<span class="k">for</span><span class="p">(</span><span class="n">it</span><span class="o">=</span><span class="n">nnums</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="n">it</span><span class="o">!=</span><span class="n">nnums</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="o">&amp;&amp;*</span><span class="n">it</span><span class="o">!=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="n">it</span><span class="o">++</span><span class="p">);</span>
        	<span class="n">nnums</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
        	<span class="n">temp</span><span class="o">=</span><span class="n">permute</span><span class="p">(</span><span class="n">nnums</span><span class="p">);</span>
        	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">temp</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
            	<span class="n">tmp</span><span class="o">=</span><span class="k">new</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
            	<span class="n">tmp</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">size</span><span class="p">();</span><span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="n">tmp</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
        		<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">*</span><span class="n">tmp</span><span class="p">);</span>
        	<span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<h3>LeetCode #47 Permutations II</h3>

<blockquote>
  <p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.
For example,
[1,1,2] have the following unique permutations:<br />
[1,1,2], [1,2,1], and [2,1,1]. </p>
</blockquote>

<p>这个比上一道题要稍微复杂一些，大体结构是一样的。
用一个快速查找的容器unordered_set来储存处理过的元素，每次进入递归时检查一下，如果处理过了就直接跳到下一个元素。</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">permuteUnique</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span>
    	<span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">v</span><span class="p">,</span><span class="n">temp</span><span class="p">;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">tmp</span><span class="p">,</span><span class="n">nnums</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span><span class="k">return</span> <span class="n">v</span><span class="p">;}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span><span class="p">;</span><span class="n">unordered_set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        	<span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">!=</span><span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="k">continue</span><span class="p">;</span>
        	<span class="n">nnums</span><span class="o">=</span><span class="n">nums</span><span class="p">;</span>
        	<span class="k">for</span><span class="p">(</span><span class="n">it</span><span class="o">=</span><span class="n">nnums</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span><span class="n">it</span><span class="o">!=</span><span class="n">nnums</span><span class="p">.</span><span class="n">end</span><span class="p">()</span><span class="o">&amp;&amp;*</span><span class="n">it</span><span class="o">!=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="n">it</span><span class="o">++</span><span class="p">);</span>
        	<span class="n">nnums</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
        	<span class="n">temp</span><span class="o">=</span><span class="n">permuteUnique</span><span class="p">(</span><span class="n">nnums</span><span class="p">);</span>
        	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">temp</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
            	<span class="n">tmp</span><span class="o">=</span><span class="k">new</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
            	<span class="n">tmp</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">size</span><span class="p">();</span><span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="n">tmp</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
        		<span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="o">*</span><span class="n">tmp</span><span class="p">);</span>
        	<span class="p">}</span>
        	<span class="n">s</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>

<h3>LeetCode #60 Permutation Sequence</h3>

<blockquote>
  <p>The set [1,2,3,…,n] contains a total of n! unique permutations.<br />
By listing and labeling all of the permutations in order,<br />
We get the following sequence (ie, for n = 3):<br />
    “123”<br />
    “132”<br />
    “213”<br />
    “231”<br />
    “312”<br />
    “321”<br />
Given n and k, return the kth permutation sequence.<br />
Note: Given n will be between 1 and 9 inclusive.</p>
</blockquote>

<p>首先最重要的还是观察这个序列的结构。k是(n-1)!的多少个整数倍，决定了首位是n个数的序列中的第几个。把这个数从n个数的序列中拿出之后，依然做同样的事情，看k%((n-1)!)是(n-2)!的多少个整数倍，决定了第二位是n-1个数的序列（就是拿掉刚才那个数之后得到的序列）中的第几个。如此循环，直到最后。</p>

<p>那么一个很重要的问题就是要用什么数据结构，既能实现删除排号为n的某个元素，又能保持原有的相对顺序？我想到的方法是用数组，每删掉一个元素后，把它之后的元素依次往前挪。这样就可以了。不知道还有没有更快更省空间的结构？</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">string</span> <span class="n">getPermutation</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">vc</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="n">tmp</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">seq</span><span class="o">=</span><span class="n">k</span><span class="p">;</span>
        <span class="n">stringstream</span> <span class="n">ss</span><span class="p">;</span><span class="n">string</span> <span class="n">s</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="n">temp</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span><span class="n">vc</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="p">;</span><span class="n">tmp</span><span class="o">*=</span><span class="n">i</span><span class="p">;}</span>
        <span class="n">tmp</span><span class="o">/=</span><span class="n">n</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
            <span class="n">ss</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">[(</span><span class="n">seq</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">tmp</span><span class="p">];</span><span class="n">ss</span><span class="o">&gt;&gt;</span><span class="n">temp</span><span class="p">;</span>
            <span class="n">s</span><span class="o">+=</span><span class="n">temp</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="p">(</span><span class="n">seq</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">tmp</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="n">vc</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">vc</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
            <span class="n">seq</span><span class="o">=</span><span class="p">(</span><span class="n">seq</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">tmp</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">tmp</span><span class="o">/=</span><span class="n">i</span><span class="p">;</span>
            <span class="n">ss</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="n">temp</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">ss</span><span class="o">&lt;&lt;</span><span class="n">vc</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="n">ss</span><span class="o">&gt;&gt;</span><span class="n">temp</span><span class="p">;</span><span class="n">s</span><span class="o">+=</span><span class="n">temp</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span></code></pre></div>


    </article>

</div>

      </div>
    </div>
    <div class="clear"></div> 
    <a  class="qls" href="#top" target="_self" id="back-to-top"><center>Back to Top</center></a>
</div>

  <footer class="site-footer">
	<div class="acknowledgement">
		<p class="ack ack1">yizhong.pku@gmail.com</p>
	</div>
	<div class="acknowledgement">
		<p class="ack ack2">© 2015.01- Powered by Zhong Yi</p>
	</div>
</footer>
    
  </body>
</html>